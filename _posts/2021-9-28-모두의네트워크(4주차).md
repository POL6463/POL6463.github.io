---
layout: post
title: 2021-9-28 모두의 네트워크 (4주차)
---

### 데이터 링크 계층 : 랜에서 데이터 전송하기

OSI 모델 랜에서 데이터를 주고받으려면 데이터 링크 계층의 기술이 필요하다

데이터 링크 계층은 - 네트워크 장비 간의 신호를 주고받는 규칙을 정하는 계층

그 규칙들 중 가장 많이 사용되는 규칙이 이더넷(Ethernet)

![image](https://github.com/POL6463/POL6463.github.io/blob/master/images/net_week4/image0.png?raw=true)

- 허브에서 컴퓨터 한대로 데이터를 보내려고 해도 다른 신호가 전달된다
- 하지만 규칙을 정해서 목적지 정보를 추가해서 보내면, 목적지 이외의 컴퓨터는 받더라도 무시한다.

- 컴퓨터 여러 대가 동시에 데이터를 보내면 데이터들이 서로 부딪힐 수도 있다. - 충돌(collision)
- 이더넷은 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 되어있다

![image](https://github.com/POL6463/POL6463.github.io/blob/master/images/net_week4/image1.png?raw=true)

- 이더넷에서 데이터를 보내는 시점을 늦추는걸 CSMA/CD라고 한다.
- CS는 데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르는지 아닌지를 확인한다.
- MA는 케이블에서 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다는 규칭
- CD는 충돌이 발생하고 있는지를 확인한다.
- 지금은 효율이 좋지않아 거의 사용하지 않는다.

### MAC 주소의 구조

- 랜카드는 비트열을 전기신호로 변환한다 - 랜카드에는 MAC 주소라는 번호가 정해져있다.
- 제조할 때 새겨지기 때문에 물리 주소라고도 부른다. - 세계에서 유일한 번호

![image](https://github.com/POL6463/POL6463.github.io/blob/master/images/net_week4/image2.png?raw=true)

- 앞쪽 24비트는 제조사 번호 - 뒤 24비트는 제조사가 붙인 일련번호

![image](https://github.com/POL6463/POL6463.github.io/blob/master/images/net_week4/image3.png?raw=true)

OSI 모델에서는 데이터 링크 계증, TCP/IP모델에서는 네트워크 계층에서 - 이더넷 헤더와 트레일러를 붙인다.

- 이더넷 헤더는 - 목적지의 MAC 주소, 출발지의 MAC주소, 유형으로 총 14바이트로 구성.
- 타입에는 프로토콜 종류를 식별하는 번호가 들어간다.
- 트레일러는 FCS라고도 하는데, 데이터 전송 도중에 오류가 발생하는지 확인하는 용도
- 이더넷 헤더와 트레일러가 추가된 데이터를 프레임이라고 한다.
- 보내는측 컴퓨터에서 데이터링크 계층에서 데이터에 이더넷헤더와 트레일러를 추가해 프레임을 만들고
- 물리 계층에서 이 프레임 비트열을 전기 신호로 변환하여 네트워크를 통해 전송한다.

### 스위치의 구조

- 스위치는 데이터 링크 계층에서 동작하고 레이어 2 스위치, 스위칭 허브 라고도 불린다.
- 스위치 내부에는 MAC 주소 테이블이라는 것이 있다. 스위치의 포트 번호와 해당 포트에 연결되어 있는 검퓨터의 MAC 주소가 등록되는 데이터베이스이다.

![image](https://github.com/POL6463/POL6463.github.io/blob/master/images/net_week4/image4.png?raw=true)

- 컴퓨터 A가 C로 전송할때 아직 C의 MAC 주소가 테이블에 등록되어있지 않아 모두에게 전송된다. 이러한 데이터 전송을 플러딩이라고 부른다.
- C 가 한번 A 로 전송하면 테이블에 등록되어 다음부터는 모두에게 전송하지 않고 C에게만 전송한다.
- MAC 주소를 기준으로 목적지를 선택하는 것을 MAC 주소 필터링 이라고 한다.

### 전이중 통신과 반이중 통신

- 전이중 통신 방식은 데이터의 송수신을 동시에 통신하는 방식
- 반이중 통신 방식은 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식

- 허브는 송수신ㄴ이 나누어져 있지 않기 때문에 동시에 데이터를 보낼 때 충돌이 일어난다. - 송신과 수신을 번갈아가면서 사용하는 반이중 통신 방식을 사용
- 스위치는 충돌이 일어나지 않는 구조로 되어있기 때문에 전이중 통신 방식으로 주고받을 수 있다.\

### 이더넷의 종류와 특징

![image](https://github.com/POL6463/POL6463.github.io/blob/master/images/net_week4/image5.png?raw=true)

- 10BASE-T 에서 - 10 - Mbps 단위인 통신속도, BASE - BASEBAND라는 전송방식, T - 는 케이블 종류